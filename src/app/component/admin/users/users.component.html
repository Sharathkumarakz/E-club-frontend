<app-navbar></app-navbar>
<div class="row m-0">
    <div class="col-sm-2 " style="height: auto;" style="background-color: rgb(168, 186, 189);">
           <div class="container-fluid" style="background-color: rgb(217, 217, 217); width: 90%; height: 45px; margin-top: 10%; border-radius: 8px; padding-top: 10px;">
            <h6 ><a style="color: rgb(67, 62, 62); text-decoration: none;" routerLink="/admin/dashboard"><i>Dashboard</i></a></h6>
          </div>
           <div class="container-fluid" style="background-color: rgb(217, 217, 217); width: 90%; height: 45px; margin-top: 10%; border-radius: 8px; padding-top: 10px;">
            <h6 ><a style="color: rgb(67, 62, 62);  text-decoration: none;" routerLink="/admin/clubs"><i>Clubs</i></a></h6>
          </div>
           <div class="container-fluid" style="background-color: rgb(217, 217, 217); width: 90%; height: 45px; margin-top: 10%; border-radius: 8px; padding-top: 10px;">
            <h6 ><a style="color: rgb(67, 62, 62);  text-decoration: none;" routerLink="/admin/users"><i>Users</i></a></h6>
          </div>
           <div class="container-fluid" style="background-color: rgb(217, 217, 217); width: 90%; height: 45px; margin-top: 10%; border-radius: 8px; padding-top: 10px;">
            <h6 ><a style="color: rgb(67, 62, 62);  text-decoration: none;" routerLink="/admin/banners"><i>Banner</i></a></h6>
          </div>
          <div class="container-fluid" style="background-color: rgb(217, 217, 217); width: 90%; height: 45px; margin-top: 10%; border-radius: 8px; padding-top: 10px;">
            <h6 ><a style="color: rgb(67, 62, 62);  text-decoration: none;" routerLink="/admin/blacklist"><i>Blacklist</i></a></h6>
          </div>
           <div class="container-fluid" style="background-color:rgb(217,217,217);  width: 90%; height: 45px; margin-top: 10%; border-radius: 8px; padding-top: 10px;">
            <h6 style="color: rgb(67, 62, 62); " (click)="logout()"><a><i>Logout</i></a></h6>
            
           </div>
           </div>
     

        <div style=" background-color: rgb(136,164, 170); height: auto;" class="col-sm-10  ">
      
  

            <h4 style="color:rgb(67, 62, 62); margin-top:5%; margin-bottom:2%;"><i>Users</i></h4>
            <div style="text-align:end; margin: 5px;">
        
            </div>
          
            <section style="background-color: rgb(136,164, 170); color: rgb(0, 0, 0);">

              <div style="text-align: end;">
                <mat-form-field  appearence="standard">
                  <mat-label >Filter</mat-label>
                  <input matInput placeholder="Search" (keyup)="applyFilter($event)" style="color: white;" />
                </mat-form-field>
            
                <div>
                  <table mat-table [dataSource]="dataSource" matSort style="background-color: rgb(184, 208, 216); ">
                    <ng-container matColumnDef="image">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">image</th>
                      <td mat-cell *matCellDef="let element">
                        
                        <img  *ngIf="!element.image" src="https://www.shutterstock.com/image-vector/no-user-profile-picture-hand-260nw-99335579.jpg"
                        class="img-fluid rounded-circle" style="width:70px; height: 70px;" alt="Generic placeholder image">
                          <img class="m-2" *ngIf="element.image" [src]='"http://localhost:5000/public/user_images/"+element.image'
                          class="img-fluid rounded-circle" style="width:70px; height: 70px;" alt="Generic placeholder image">
                      </td>
                    </ng-container>
            
      
      
                    <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">name</th>
                      <td mat-cell *matCellDef="let element">{{ element.name }}</td>
                    </ng-container>
            
                    <ng-container matColumnDef="email">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">email</th>
                      <td mat-cell *matCellDef="let element">{{ element.email}}</td>
                    </ng-container>
            
                    <ng-container matColumnDef="phone">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">phone</th>
                      <td mat-cell *matCellDef="let element">{{element.phone}}</td>
                    </ng-container>
            
                    <ng-container matColumnDef="action">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">action</th>
                      <td mat-cell *matCellDef="let element">
                        <button *ngIf="!element.isBlocked" class="btn btn-primary" (click)="block(element._id)">Block</button>
                        <button *ngIf="element.isBlocked" class="btn btn-danger" (click)="unBlock(element._id)">unBlock</button>     

                      </td>
                    </ng-container>
            
                    <ng-container matColumnDef="view">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">view</th>
                      <td mat-cell *matCellDef="let element">
                        <button class="btn btn-warning" >View details</button>
                
                      </td>
                    </ng-container>
                    <!-- <ng-container matColumnDef="View">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">View</th>
                      <td mat-cell *matCellDef="let element">
      
                        <button class="btn btn-warning" >View details</button>
                      </td>
                    </ng-container> -->
                    <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumn"></tr>
            
                    <!-- Show when no data -->
                    <tr *matNoDataRow>
                      <td class="mat-cell" colspan="4">No data</td>
                    </tr>
                  </table>
                  <mat-paginator [pageSizeOptions]="[20]" aria-label="select page of members" style="background-color: rgb(184, 208, 216); "></mat-paginator>
                </div>
              </div>
            </section>


         <div *ngIf="users">
    
        
            <div class="card mb-4" style="background-color: rgb(184, 208, 216);">
                <div class="card-body p-1 " style="background-color: rgb(184, 208, 216);"  > 
                  <div class="row align-items-center">
                    <div class="col-md-2">
    
                    </div>
                    <div class="col-md-2 d-flex justify-content-center">
                      <div>
                        <p class="lead fw-normal mb-0">Name</p>
                      </div>
                    </div>
                    <div class="col-md-2 d-flex justify-content-center">
                      <div>
                        <p class="lead fw-normal mb-0"><i class="fas fa-circle me-2" style="color: #fdd8d2;"></i>
                        Email</p>
                      </div>
                    </div>
                  
                    <div class="col-md-2 d-flex justify-content-center">
                      <div>
                        <!-- <p class="small text-muted mb-4 pb-2">Total</p> -->
                        <p class="lead fw-normal mb-0">Phone</p>
                      </div>
                    </div>
                    <div class="col-md-4 d-flex justify-content-center">
                      <div>
                        <p class="lead fw-normal mb-0">Actions</p>   
             <!-- <button class="btn btn-warning">View details</button> -->
                      </div>
                    </div>
                   
                  </div>
      
                </div>
              </div>
    
    
    
            <div class="card mb-4" *ngFor="let item of users" >
                <div class="card-body p-1 "style="background-color: rgb(184, 208, 216);" > 
                  <div class="row align-items-center">
                    <div class="col-md-2">
                      <img *ngIf="!item.image" src="https://www.shutterstock.com/image-vector/no-user-profile-picture-hand-260nw-99335579.jpg"
                      class="img-fluid rounded-circle" style="width:70px; height: 70px;" alt="Generic placeholder image">
                        <img *ngIf="item.image" [src]='"http://localhost:5000/public/user_images/"+item.image'
                        class="img-fluid rounded-circle" style="width:70px; height: 70px;" alt="Generic placeholder image">
                    </div>
                    <div class="col-md-2 d-flex justify-content-center">
                      <div>
                        <p class=" fw-normal mb-0">{{item.name}}</p>
                      </div>
                    </div>
                    <div class="col-md-2 d-flex justify-content-center">
                      <div>
                        <p class=" fw-normal mb-0"><i class="fas fa-circle me-2" style="color: #fdd8d2;"></i>
                         {{item.email}}</p>
                      </div>
                    </div>
                  
                    <div class="col-md-2 d-flex justify-content-center">
                      <div>
                        <!-- <p class="small text-muted mb-4 pb-2">Total</p> -->
                        <p class=" fw-normal mb-0">{{item.phone}}</p>
                      </div>
                    </div>
                    <div class="col-md-2 d-flex justify-content-center">
                      <div>
                    
                        <button *ngIf="!item.isBlocked" class="btn btn-primary" (click)="block(item._id)">Block</button>
                        <button *ngIf="item.isBlocked" class="btn btn-danger" (click)="unBlock(item._id)">unBlock</button>     

             <!-- <button class="btn btn-warning">View details</button> -->
                      </div>
                    </div>
                    <div class="col-md-2 d-flex justify-content-center">
                        <div>
                      
                          <!-- <button class="btn btn-dark">Add to blacklist</button>           -->
                <button class="btn btn-warning" >View details</button>
                        </div>
                      </div>
                  </div>
      
                </div>
              </div>
      
    
    
            
              
         </div>
              </div>
          
          
      </div>
      
      
      
      
      
    
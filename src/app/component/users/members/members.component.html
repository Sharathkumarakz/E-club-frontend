<!--NAVBAR STARTS-->
<app-sidebar-admin></app-sidebar-admin>
<!--NAVBAR ENDS-->

<!--BODY STARTS-->
<section style="padding-top: 7rem;">
  <div class="container ">
    <div class=" align-items-center">
      <h3>Members</h3>
      <div class="container-fluid"
        style="width: 100%; background-color: rgb(236, 211, 184); border-radius: 40px;  justify-content: center; align-items: center;">
        <div class="row justify-content-center" >
        <div class="card m-4 col-sm-4" style="width: 20rem;">
            <div style="width: 100%; height: 200px; overflow: hidden;">
              <div style="position: relative; width: 100%; height: 100%;">
                <div style="position: relative; top: 0; right: 0; bottom: 0; left: 0; border-radius: 10px; overflow: hidden;">
                  <img class="card-img-top" *ngIf='leaders?.president?.image' style="position: relative; top: 0; left: 0; width: 100%; height: 100%; object-fit:cover;"  [src]="leaders?.president?.image" alt="hero-header">
                  <img *ngIf='!leaders?.president?.image' style="position: relative; top: 0; left: 0; width: 100%; height: 100%; object-fit:cover;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSMZhVwXE0sRZrNix9bf8IyqaLPp78DAOk4T3OrLCvOHfSoiYFjiHuG7-KUqVvusLMU0L8&usqp=CAU" alt="hero-header">
                </div>
              </div>
            </div>
          <div class="card-body">
            <h6><i>President</i></h6>
            <p class="card-text" ><b>{{leaders?.president?.name}}</b></p>
            <p class="card-text"><b>{{leaders?.president?.email}}</b></p>
            <p class="card-text">Phone :{{leaders?.president?.phone}}</p>
          </div>
        </div>
        <div class="card m-4 col-sm-4" style="width: 20rem;">
               <div style="width: 100%; height: 200px; overflow: hidden;">
              <div style="position: relative; width: 100%; height: 100%;">
                <div style="position: relative; top: 0; right: 0; bottom: 0; left: 0; border-radius: 10px; overflow: hidden;">
                  <img class="card-img-top" *ngIf='leaders?.secretory?.image' style="position: relative; top: 0; left: 0; width: 100%; height: 100%; object-fit:cover;"  [src]="leaders?.secretory?.image" alt="hero-header">
                  <img *ngIf='!leaders?.secretory?.image' style="position: relative; top: 0; left: 0; width: 100%; height: 100%; object-fit:cover;"  src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSMZhVwXE0sRZrNix9bf8IyqaLPp78DAOk4T3OrLCvOHfSoiYFjiHuG7-KUqVvusLMU0L8&usqp=CAU" alt="hero-header">
                </div>
              </div>
            </div>
          <div class="card-body">
            <h6><i>Secretory</i></h6>
            <p class="card-text"><b>{{leaders?.secretory?.name}}</b></p>
            <p class="card-text"><b>{{leaders?.secretory?.email}}</b></p>
            <p class="card-text">Phone :{{leaders?.secretory?.phone}}</p>
          </div>
        </div>
        <div class="card m-4 col-sm-4" style="width: 20rem;">
            <div style="width: 100%; height: 200px; overflow: hidden;">
              <div style="position: relative; width: 100%; height: 100%;">
                <div style="position: relative; top: 0; right: 0; bottom: 0; left: 0; border-radius: 10px; overflow: hidden;">
                  <img class="card-img-top" *ngIf='leaders?.treasurer?.image' style="position: relative; top: 0; left: 0; width: 100%; height: 100%; object-fit:cover;"  [src]="leaders?.treasurer?.image" alt="hero-header">
                  <img *ngIf='!leaders?.treasurer?.image' style="position: relative; top: 0; left: 0; width: 100%; height: 100%; object-fit:cover;"  src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSMZhVwXE0sRZrNix9bf8IyqaLPp78DAOk4T3OrLCvOHfSoiYFjiHuG7-KUqVvusLMU0L8&usqp=CAU" alt="hero-header">
                </div>
              </div>
            </div>
          <div class="card-body">
            <h6><i>Treasurer</i></h6>
            <p class="card-text"><b>{{leaders?.treasurer?.name}}</b></p>
            <p class="card-text"><b>{{leaders?.treasurer?.email}}</b></p>
            <p class="card-text">Phone :{{leaders?.treasurer?.phone}}</p>
          </div>
        </div>
      </div>
    </div>
      <!--ADD MEMBER STARTS-->
      <div *ngIf="leader" style="display: flex; align-items: flex-end;">
        <section class="container">
          <div class="row">
            <div class="col-sm-6">
            </div>
            <div class="col-sm-6">
              <h4 class="m-2">Add Member</h4>
              <div class="p-3 mb-2 responsive-form">
                <div class="p-3 mb-2" style="background-color: #f1eeee; border-radius: 4px;">
                  <form [formGroup]="form" (submit)="submit()">
                    <label for="name">Members Email ID</label>
                    <input type="text" id="name" name="name" formControlName=member required>
                    <input type="submit" value="Submit">
                  </form>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
      <!--ADD MEMBER ENDS-->

      <!--TABLE STARTS-->
      <section style=" color: rgb(0, 0, 0);">
        <div class="scrollable-table-container">
          <div style="text-align: end;">
            <h3 style="text-align: start; color: rgb(255, 255, 255);"><i>Members</i></h3>
            <mat-form-field appearence="standard">
              <mat-label>Filter</mat-label>
              <input matInput placeholder="Search" (keyup)="applyFilter($event)" style="color: rgb(255, 255, 255);" />
            </mat-form-field>
            <div>
              <table mat-table [dataSource]="dataSource" matSort
                style="background-color: rgb(255, 255, 255); border-radius: 3px;">

                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">Name</th>
                  <td mat-cell *matCellDef="let element">{{ element.name }}</td>
                </ng-container>

                <ng-container matColumnDef="email">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">Email</th>
                  <td mat-cell *matCellDef="let element">{{ element.email }}</td>
                </ng-container>

                <ng-container matColumnDef="role">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">Role</th>
                  <td mat-cell *matCellDef="let element">member</td>
                </ng-container>

                <ng-container matColumnDef="Action">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">Action</th>
                  <td mat-cell *matCellDef="let element">
                    <button *ngIf="leader" class="btn btn-danger" style="margin-right: 5px; color: rgb(0, 0, 0);"
                      (click)="deleteMember(element.email)">Delete</button>
                    <span *ngIf="!leader" style="color: red;">No actions</span>
                  </td>
                </ng-container>

                <ng-container matColumnDef="view">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header style="color: rgb(0, 0, 0);">View</th>
                  <td mat-cell *matCellDef="let element">
                    <button class="btn btn-warning" data-toggle="modal" data-target="#myModal"
                      (click)="selectItem(element.image, element.name, element.place, element.email, element.phone)"
                      style="color: black; background-color: white;">View Details</button>
                  </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumn"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumn"></tr>


                <tr *matNoDataRow>
                  <td class="mat-cell" colspan="4">No data</td>
                </tr>
              </table>
              <mat-paginator [pageSizeOptions]="[20]" aria-label="select page of members"></mat-paginator>
            </div>
          </div>
        </div>
        
      </section>
      <!--TABLE ENDS-->









      <!--VIEW USERMODAL STARTS-->
      <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title"></h4>
            </div>
            <div class="row m-0 mt-2">
              <h5 style="color: rgb(0, 0, 0);">{{ selectedText }}</h5>
              <div class="col-sm-6 mt-5 mb-5">
                <img *ngIf="selectedImage" [src]="selectedImage" style="width: 200pxpx; height: 200px;">
              </div>
              <div style="text-align: start;" class="col-sm-6 mt-5 mb-5">
                <b> Place:</b>{{ selectedPlace }}<br><br>
                <b> Email:</b>{{selectedEmail }}<br><br>
                <b>Phone:</b>{{selectedPhone }}<br>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
      </div>